<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../dist/custom-context.js"></script>
</head>
<body>
<div><label>R:<input id="r" name="r" type="number" value="100"/></label></div>
<div><label>G:<input id="g" name="g" type="number" value="100"/></label></div>
<div><label>B:<input id="b" name="b" type="number" value="100"/></label></div>
<canvas height="400" width="600" id="canvas"></canvas>
<script>
    var canvas = document.getElementById('canvas');
    var ctx = canvas.getCustomContext();
    // ctx.drawArrow(20, 20, 100, 100);
    // ctx.drawArrow(100, 100, 100, 300);
    // ctx.drawArrow(100, 300, 400, 200);
    // ctx.drawImageUrl('./img/sample-image.jpg', 100, 80, 150, 150, 30, 30, 100, 100);
    // ctx.drawCircleImageUrl('./img/sample-image.jpg', 10, 10, 100, 80, 60, 170, 170);
    // ctx.fillPolygon(300, 200, 50, 6);
    // ctx.strokePolygon(500, 300, 50, 8);
    // ctx.fillPolygon(50, 300, 60, 3);
    //
    // ctx.loadImage('./img/sample-image-2.jpg').then(img => {
    //     ctx.filterImage(img)
    //         .mat(1)
    //         .grayscale(.5)
    //         .draw();
    // });

    // const w = 1400, h = 800;
    // ctx.fillRect(0, 0, w, h);
    // ctx.drawImageContainUrl('./img/sample-image-2.jpg', 0, 0, w, h);

    // ctx.drawFunction(x => Math.cos(x), {xTo: Math.PI * 4, yFrom: -1.5, yTo: 1.5, lineWidth: 10});
    // ctx.drawRadialFunction(x => Math.sin(.7 * x), {lineWidth: 10, xTo: 2.5, yTo: 1.5});
    // ctx.loadImage('./img/sample-image-2.jpg').then(img => {
    //     ctx.filterImage(img)
    //         .invert()
    //         .draw();
    // });
    // var x = 50, y = 100, cx = 200, cy = 200;
    // ctx.startAnimation(deltaTime => {
    //     var rotation = deltaTime / 1000;
    //     const params = mathTools.rotation(x, y, rotation);
    //     x = params.x;
    //     y = params.y;
    //     ctx.beginPath();
    //     ctx.arc(cx+x-5, cy+y-5, 10, 0, Math.PI*2);
    //     ctx.fill();
    //     ctx.closePath();
    // });
    // document.getElementById('ohoho').addEventListener('input', e => {
    //         ctx.straightenUrl('./img/sample_image-3.jpg', e.target.value).then(url => {
    //             ctx.drawImageUrl(url, 0, 0, 600, 400);
    //         });
    // });
    var r = document.querySelector('#r'),
        g = document.querySelector('#g'),
        b = document.querySelector('#b');
    function setRGB() {
        ctx.loadImage('./img/sample_image-3.jpg').then(img => {
            ctx.filterImage(img)
                .r(+r.value/100 || 1)
                .g(+g.value/100 || 1)
                .b(+b.value/100 || 1)
                .draw();
        });
    }
    r.addEventListener('input', setRGB);
    g.addEventListener('input', setRGB);
    b.addEventListener('input', setRGB);
    setRGB();

</script>
</body>
</html>
